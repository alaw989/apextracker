var I=(a,t,o)=>new Promise((p,n)=>{var r=i=>{try{u(o.next(i))}catch(c){n(c)}},s=i=>{try{u(o.throw(i))}catch(c){n(c)}},u=i=>i.done?p(i.value):Promise.resolve(i.value).then(r,s);u((o=o.apply(a,t)).next())});import{o as l,p as y,h as b,f as _,i as e,y as k,z as x,r as w,q as S,b as f,A as z,B as D,w as P,j as d,n as F,T as A,C as E,F as U,D as K,s as G,g as v,E as J,e as Q,v as W,x as M}from"./vue-vendor-BNec_bD5.js";import{_ as $,t as X,u as Y,P as Z}from"./index-DNrC3aO5.js";import{S as ee,P as ae,a as te,E as se,L as re}from"./LoadingSpinner-BixYdI5T.js";import{B as O}from"./BaseButton-DtSWhggt.js";const le={key:0,class:"share-button__icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},ne={key:1,class:"share-button__icon share-button__icon--check",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},oe={class:"share-button__text"},ie={__name:"ShareButton",props:{username:{type:String,required:!0},platform:{type:String,required:!0}},emits:["copied"],setup(a,{emit:t}){const o=a,p=t,n=w(!1);function r(){return I(this,null,function*(){const i=`${window.location.origin}/player/${o.username}/${o.platform}`;try{if(navigator.clipboard&&navigator.clipboard.writeText){yield navigator.clipboard.writeText(i),u(),p("copied",i);return}s(i)}catch(c){s(i)}})}function s(i){const c=document.createElement("textarea");c.value=i,c.style.position="fixed",c.style.left="-9999px",c.style.top="0",document.body.appendChild(c),c.focus(),c.select();try{document.execCommand("copy")&&(u(),p("copied",i))}catch(m){console.error("Unable to copy to clipboard",m)}document.body.removeChild(c)}function u(){n.value=!0,setTimeout(()=>{n.value=!1},2e3)}return(i,c)=>(l(),y(O,{variant:"secondary",class:x(["share-button",{"share-button--copied":n.value}]),onClick:r,"aria-label":"Share player profile"},{default:b(()=>[n.value?(l(),_("svg",ne,[...c[1]||(c[1]=[e("path",{d:"M5 13l4 4L19 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])):(l(),_("svg",le,[...c[0]||(c[0]=[e("path",{d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])])),e("span",oe,k(n.value?"Copied!":"Share Profile"),1)]),_:1},8,["class"]))}},de=$(ie,[["__scopeId","data-v-ef71b156"]]),ce={key:0,class:"timestamp-badge","aria-live":"polite"},ue={__name:"TimestampBadge",props:{timestamp:{type:Number,default:null}},setup(a){const t=a,o=f(()=>X(t.timestamp)),p=f(()=>t.timestamp!==null);return(n,r)=>p.value?(l(),_("span",ce," Updated "+k(o.value),1)):S("",!0)}},pe=$(ue,[["__scopeId","data-v-cb3dcc9f"]]),_e=["disabled","aria-label","aria-busy"],me={__name:"RefreshButton",props:{loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["refresh"],setup(a,{emit:t}){const o=a,p=t,n=f(()=>o.loading||o.disabled);function r(){n.value||p("refresh")}const s=f(()=>o.loading?"Refreshing data...":"Refresh data");return(u,i)=>(l(),_("button",{type:"button",class:x(["refresh-button",{"refresh-button--loading":a.loading}]),disabled:n.value,"aria-label":s.value,"aria-busy":a.loading,onClick:r},[(l(),_("svg",{class:x(["refresh-icon",{"refresh-icon--spinning":a.loading}]),viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[...i[0]||(i[0]=[e("path",{d:"M23 4v6h-6M1 20v-6h6M20.49 15a9 9 0 1 1-2.12-9.36L23 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])],2))],10,_e))}},j=$(me,[["__scopeId","data-v-82959892"]]),fe={key:0,class:"base-card__header"},he={class:"base-card__body"},ve={key:1,class:"base-card__footer"},ye={__name:"BaseCard",props:{variant:{type:String,default:"default",validator:a=>["default","elevated","outlined"].includes(a)}},setup(a){return(t,o)=>(l(),_("div",{class:x(["base-card",`base-card--${a.variant}`])},[t.$slots.header?(l(),_("div",fe,[z(t.$slots,"header",{},void 0)])):S("",!0),e("div",he,[z(t.$slots,"default",{},void 0)]),t.$slots.footer?(l(),_("div",ve,[z(t.$slots,"footer",{},void 0)])):S("",!0)],2))}},R=$(ye,[["__scopeId","data-v-713d1ede"]]);function ge(a,t={}){const{rootMargin:o="50px"}=t,p=w(!1),n=w(!1),r=w(!1),s=w(null);function u(){if(!s.value)return!1;const m=s.value.getBoundingClientRect(),g=window.innerHeight;return m.top<g+50&&m.bottom>-50}function i([{isIntersecting:m}]){m&&(r.value=!0,c())}const{stop:c}=D(s,i,{rootMargin:o});return P(s,m=>{m&&u()&&(r.value=!0,c())},{immediate:!0}),{loaded:p,error:n,shouldLoad:r,targetRef:s}}const be=["src","alt"],ke=["role","aria-label"],$e=["aria-label"],we={__name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""},placeholderColor:{type:String,default:"#374151"},class:{type:String,default:""}},emits:["load","error"],setup(a,{emit:t}){const o=a,p=t,{loaded:n,error:r,shouldLoad:s,targetRef:u}=ge(o.src);function i(){n.value=!0,p("load")}function c(){r.value=!0,p("error")}const m=f(()=>["lazy-image",o.class].filter(Boolean).join(" ")),g=f(()=>({backgroundColor:o.placeholderColor}));return(L,B)=>(l(),_("div",{ref_key:"targetRef",ref:u,class:x(m.value)},[d(s)&&!d(r)?(l(),_("img",{key:0,src:a.src,alt:a.alt,class:x(["lazy-image__img",{"lazy-image__loaded":d(n)}]),onLoad:i,onError:c},null,42,be)):S("",!0),!d(n)&&!d(r)?(l(),_("div",{key:1,class:"lazy-image__placeholder",style:F(g.value),role:d(r)?"img":void 0,"aria-label":d(r)?a.alt:void 0},[...B[0]||(B[0]=[e("span",{class:"lazy-image__placeholder-pulse"},null,-1)])],12,ke)):S("",!0),d(r)?(l(),_("div",{key:2,class:"lazy-image__error",style:F(g.value),role:"img","aria-label":a.alt||"Image failed to load"},null,12,$e)):S("",!0)],2))}},N=$(we,[["__scopeId","data-v-08273f66"]]),Se={class:"player-header__content"},Ce={class:"player-header__avatar"},xe={key:1,class:"player-header__avatar-placeholder"},Le={class:"player-header__avatar-initials"},Be={class:"player-header__info"},Ie={class:"player-header__name"},Re={class:"player-header__rank"},Pe={key:1,class:"player-header__rank-placeholder"},Te={__name:"PlayerHeader",props:{player:{type:Object,required:!0,validator:a=>!a||Object.keys(a).length===0?!0:a.name!==void 0}},setup(a){var u,i,c;const t=a,o=f(()=>{var m;return((m=t.player)==null?void 0:m.rankName)||"Unranked"}),p=ref(0);P(()=>t.player,()=>{p.value++},{immediate:!0});const n=(u=t.player)==null?void 0:u.avatar,r=(i=t.player)==null?void 0:i.rankIcon,s=(c=t.player)==null?void 0:c.name;return(m,g)=>(l(),y(A,{name:"card-appear",key:d(p),appear:""},{default:b(()=>[a.player&&a.player.name?(l(),y(R,{key:0,class:"player-header"},{default:b(()=>{var L,B;return[e("div",Se,[e("div",Ce,[d(n)?(l(),y(N,{key:0,src:d(n),alt:`${d(s)} avatar`,class:"player-header__avatar-img"},null,8,["src","alt"])):(l(),_("div",xe,[e("span",Le,k(((B=(L=d(s))==null?void 0:L.charAt(0))==null?void 0:B.toUpperCase())||"?"),1)]))]),e("div",Be,[e("h2",Ie,k(d(s)),1)]),e("div",Re,[d(r)?(l(),y(N,{key:0,src:d(r),alt:`${o.value} rank icon`,class:"player-header__rank-icon"},null,8,["src","alt"])):(l(),_("div",Pe,[...g[0]||(g[0]=[e("span",{class:"player-header__rank-text"},"Unranked",-1)])]))])])]}),_:1})):S("",!0)]),_:1}))}},Ve=$(Te,[["__scopeId","data-v-7818b40b"]]),ze={class:"stats-list__content"},Ne={class:"stats-list__label"},Ue={class:"stats-list__value"},qe={__name:"StatsList",props:{stats:{type:Array,default:()=>[]}},setup(a){const t=a,o=f(()=>t.stats&&t.stats.length>0),p=w(0);return P(()=>t.stats,()=>{p.value++},{immediate:!0}),(n,r)=>(l(),y(A,{name:"card-appear",key:p.value,appear:""},{default:b(()=>[o.value?(l(),y(R,{key:0,class:"stats-list"},{header:b(()=>[...r[0]||(r[0]=[e("h3",{class:"stats-list__header"},"Stats Overview",-1)])]),default:b(()=>[e("div",ze,[(l(!0),_(U,null,E(a.stats,(s,u)=>(l(),_("div",{key:`stat-${u}-${s.subtitle}`,class:x(["stats-list__row",{"stats-list__row--last":u===a.stats.length-1}])},[e("span",Ne,k(s.subtitle),1),e("span",Ue,k(s.stat),1)],2))),128))])]),_:1})):(l(),y(R,{key:1,class:"stats-list stats-list--empty"},{default:b(()=>[...r[1]||(r[1]=[e("div",{class:"stats-list__empty"},[e("p",null,"No stats available")],-1)])]),_:1}))]),_:1}))}},Fe=$(qe,[["__scopeId","data-v-d9a7db38"]]),Me={class:"legend-card__content"},je={class:"legend-card__image-container"},Ae={key:1,class:"legend-card__image-placeholder"},Ee={class:"legend-card__placeholder-text"},Oe={key:2,class:"legend-card__badge"},He={class:"legend-card__info"},De={class:"legend-card__name"},Ke={class:"legend-card__kills"},Ge={class:"legend-card__kills-count"},Je={__name:"LegendCard",props:{legend:{type:Object,required:!0,validator:a=>a&&typeof a=="object"&&a.name!==void 0},isFavorite:{type:Boolean,default:!1}},setup(a){const t=a,o=f(()=>{var s;return((s=t.legend)==null?void 0:s.name)||"Unknown"}),p=f(()=>{var s;return(s=t.legend)==null?void 0:s.imageUrl}),n=f(()=>{var s;return((s=t.legend)==null?void 0:s.kills)||0}),r=f(()=>t.isFavorite===!0);return(s,u)=>(l(),y(R,{class:x(["legend-card",{"legend-card--favorite":r.value}])},{default:b(()=>[e("div",Me,[e("div",je,[p.value?(l(),y(N,{key:0,src:p.value,alt:`${o.value} legend art`,class:"legend-card__image"},null,8,["src","alt"])):(l(),_("div",Ae,[e("span",Ee,k(o.value.charAt(0)),1)])),r.value?(l(),_("div",Oe,[...u[0]||(u[0]=[e("svg",{class:"legend-card__badge-icon",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})],-1),e("span",null,"Favorite",-1)])])):S("",!0)]),e("div",He,[e("h4",De,k(o.value),1),e("div",Ke,[e("span",Ge,k(n.value),1),u[1]||(u[1]=e("span",{class:"legend-card__kills-label"},"Kills",-1))])])])]),_:1},8,["class"]))}},Qe=$(Je,[["__scopeId","data-v-51f53f8c"]]),We={key:0,class:"favorite-legends"},Xe={__name:"FavoriteLegends",props:{legends:{type:Array,default:()=>[]}},setup(a){const t=a,o=f(()=>t.legends&&t.legends.length>0),p=f(()=>t.legends.slice(0,2)),n=w(0);return P(()=>t.legends,()=>{n.value++},{immediate:!0}),(r,s)=>o.value?(l(),_("div",We,[s[0]||(s[0]=e("h3",{class:"favorite-legends__header"},"Favorite Legends",-1)),(l(),y(K,{name:"stagger",tag:"div",key:n.value,class:"favorite-legends__list",appear:""},{default:b(()=>[(l(!0),_(U,null,E(p.value,(u,i)=>(l(),y(Qe,{key:`legend-${u.name}-${n.value}`,legend:u,"is-favorite":i===0,"data-index":i,class:"favorite-legends__item"},null,8,["legend","is-favorite","data-index"]))),128))]),_:1}))])):(l(),y(R,{key:1,class:"favorite-legends favorite-legends--empty"},{default:b(()=>[...s[1]||(s[1]=[e("div",{class:"favorite-legends__empty"},[e("p",null,"No legends data available")],-1)])]),_:1}))}},Ye=$(Xe,[["__scopeId","data-v-93c17594"]]),Ze={class:"player-view",itemscope:"",itemtype:"https://schema.org/Person"},ea={key:0,class:"content-area"},aa={key:1,class:"content-area"},ta={class:"error-container"},sa={class:"player-section"},ra={class:"player-header-wrapper"},la={class:"player-header-content"},na={class:"visually-hidden",itemprop:"name"},oa={class:"player-meta"},ia={class:"header-actions"},da=["content"],ca={"aria-labelledby":"stats-heading",class:"player-section stats-section"},ua={class:"section-header"},pa={"aria-labelledby":"legends-heading",class:"player-section"},_a={__name:"PlayerView",props:{username:{type:String,required:!0},platform:{type:String,required:!0}},setup(a){const t=a,o=Q(),p=W(),n=Y(),{data:r,loading:s,error:u,cacheTimestamp:i,isRefreshing:c}=G(n),m=w(""),g=w("origin"),L=f(()=>{const C=Z.find(h=>h.id===t.platform);return(C==null?void 0:C.name)||t.platform});function B(){return I(this,null,function*(){yield n.fetchPlayer(t.username,t.platform)})}function T(){return I(this,null,function*(){if(!m.value||m.value.trim()==="")return;(yield n.searchPlayer(m.value.trim(),g.value)).success&&(yield p.push({name:"player",params:{username:m.value.trim(),platform:g.value}}))})}function H(){p.push({name:"home"})}function q(){return I(this,null,function*(){yield n.forceRefresh(t.username,t.platform)})}return P(()=>o.params,C=>{C.username&&C.platform&&B()},{immediate:!0}),n.clearPlayer(),(C,h)=>(l(),_("article",Ze,[e("form",{class:"quick-search",onSubmit:J(T,["prevent"]),"aria-label":"Search for another player"},[v(ee,{modelValue:m.value,"onUpdate:modelValue":h[0]||(h[0]=V=>m.value=V),placeholder:"Search another player...","aria-label":"Enter another player's username",onSubmit:T,class:"quick-search__input"},null,8,["modelValue"]),v(ae,{modelValue:g.value,"onUpdate:modelValue":h[1]||(h[1]=V=>g.value=V),"aria-label":"Select gaming platform",class:"quick-search__platform"},null,8,["modelValue"]),v(te,{loading:d(s),disabled:!m.value.trim(),onClick:T,class:"quick-search__button","aria-label":"Search for player"},{default:b(()=>[...h[2]||(h[2]=[M(" Search ",-1)])]),_:1},8,["loading","disabled"])],32),d(s)?(l(),_("div",ea,[v(re,{size:"large",text:"Loading player stats..."})])):d(u)?(l(),_("div",aa,[e("div",ta,[v(se,{message:d(u),type:"error",class:"error-message"},null,8,["message"]),v(O,{variant:"secondary",onClick:H,class:"back-button"},{default:b(()=>[...h[3]||(h[3]=[M(" Search for Another Player ",-1)])]),_:1})])])):d(r)?(l(),_(U,{key:2},[e("header",sa,[e("div",ra,[e("div",la,[e("h1",na,k(d(r).name),1),v(Ve,{player:{name:d(r).name,avatar:d(r).avatar,rankIcon:d(r).rankIcon,platformName:L.value}},null,8,["player"]),e("div",oa,[v(pe,{timestamp:d(i)},null,8,["timestamp"])])]),e("div",ia,[v(j,{loading:d(c),onRefresh:q,class:"refresh-button-wrapper"},null,8,["loading"]),v(de,{username:a.username,platform:a.platform,class:"share-button-wrapper"},null,8,["username","platform"])])]),e("meta",{itemprop:"affiliation",content:L.value},null,8,da)]),e("section",ca,[e("div",ua,[h[4]||(h[4]=e("h2",{id:"stats-heading",class:"visually-hidden"},"Player Statistics",-1)),v(j,{loading:d(c),onRefresh:q,class:"stats-refresh"},null,8,["loading"])]),v(Fe,{stats:d(r).stats},null,8,["stats"])]),e("section",pa,[h[5]||(h[5]=e("h2",{id:"legends-heading",class:"visually-hidden"},"Favorite Legends",-1)),v(Ye,{legends:d(r).legends},null,8,["legends"])])],64)):S("",!0)]))}},ga=$(_a,[["__scopeId","data-v-3bfb5b9a"]]);export{ga as default};
