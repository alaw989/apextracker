var g=(s,l,o)=>new Promise((i,n)=>{var u=a=>{try{e(o.next(a))}catch(c){n(c)}},t=a=>{try{e(o.throw(a))}catch(c){n(c)}},e=a=>a.done?i(a.value):Promise.resolve(a.value).then(u,t);e((o=o.apply(s,l)).next())});import{d as x,m as w,r as _,b as S,s as V,o as m,f as h,i as d,g as v,h as k,j as f,p as b,q as E,t as L,v as H,x as P}from"./vue-vendor-BNec_bD5.js";import{_ as B,u as T}from"./index-DNrC3aO5.js";import{S as A,P as N,a as C,E as U,L as I}from"./LoadingSpinner-BixYdI5T.js";import"./BaseButton-DtSWhggt.js";const M=x("search",()=>{const s=w("apex-search-history",[]),l=10;function o(t,e){const a={username:t,platform:e,timestamp:Date.now()},c=s.value.filter(p=>p.username!==t||p.platform!==e);s.value=[a,...c].slice(0,l)}function i(){s.value=[]}function n(t){s.value.splice(t,1)}return{history:s,addToHistory:o,clearHistory:i,removeFromHistory:n,hasHistory:()=>s.value.length>0}}),R=x("ui",()=>{const s=_(!1),l=_(null),o=S(()=>l.value!==null),i=S(()=>s.value===!0);function n(e){s.value=e}function u(e){l.value=e}function t(){l.value=null}return{isLoading:s,errorMessage:l,hasError:o,showLoading:i,setLoading:n,setError:u,clearError:t}}),j={class:"home-view"},q={"aria-label":"Player search form",class:"search-section"},z={class:"search-form"},D={key:0,class:"content-area"},F={key:1,class:"content-area"},O={key:2,class:"empty-state"},X={__name:"HomeView",setup(s){const l=H(),o=T(),i=M(),n=R(),{searchLoading:u,error:t}=V(o),e=_(""),a=_("origin");function c(){return g(this,null,function*(){if(!e.value||e.value.trim()===""){n.setError("Please enter a username");return}n.clearError(),(yield o.searchPlayer(e.value.trim(),a.value)).success&&(i.addToHistory(e.value.trim(),a.value),yield l.push({name:"player",params:{username:e.value.trim(),platform:a.value}}))})}return(p,r)=>(m(),h("main",j,[r[5]||(r[5]=d("header",{class:"home-view__header"},[d("h1",{class:"home-view__title"},"Apex Legends Stats Tracker"),d("p",{class:"home-view__subtitle"},"Search for player ranks and statistics")],-1)),d("section",q,[d("div",z,[v(A,{modelValue:e.value,"onUpdate:modelValue":r[0]||(r[0]=y=>e.value=y),placeholder:"Apex Username","aria-label":"Enter Apex Legends username",onSubmit:c,class:"search-form__input"},null,8,["modelValue"]),v(N,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=y=>a.value=y),"aria-label":"Select gaming platform",class:"search-form__platform"},null,8,["modelValue"]),v(C,{loading:f(u),disabled:!e.value.trim(),onClick:c,class:"search-form__button","aria-label":"Search for player"},{default:k(()=>[...r[2]||(r[2]=[P(" Search ",-1)])]),_:1},8,["loading","disabled"])]),f(t)?(m(),b(U,{key:0,message:f(t),type:"error",class:"search-error"},null,8,["message"])):E("",!0)]),f(u)?(m(),h("div",D,[v(I,{size:"large",text:"Searching..."})])):f(t)?(m(),h("div",F,[...r[3]||(r[3]=[d("div",{class:"error-helper"},[d("p",{class:"error-helper__text"},"Please check the username and platform, then try again.")],-1)])])):(m(),h("div",O,[...r[4]||(r[4]=[L('<svg class="empty-state__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true" data-v-9f9dcdfc><circle cx="11" cy="11" r="8" data-v-9f9dcdfc></circle><path d="m21 21-4.35-4.35" data-v-9f9dcdfc></path></svg><h2 class="empty-state__title" data-v-9f9dcdfc>Search for a Player</h2><p class="empty-state__text" data-v-9f9dcdfc>Enter an Apex Legends username and select a platform to view stats.</p>',3)])]))]))}},W=B(X,[["__scopeId","data-v-9f9dcdfc"]]);export{W as default};
