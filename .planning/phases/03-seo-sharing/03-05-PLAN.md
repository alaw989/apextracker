---
phase: 03-seo-sharing
plan: 05
type: execute
wave: 3
depends_on:
  - 03-01
files_modified:
  - src/components/ui/ShareButton.vue
  - src/views/PlayerView.vue
autonomous: false

must_haves:
  truths:
    - "ShareButton copies current player URL to clipboard"
    - "ShareButton shows 'Copied!' feedback temporarily"
    - "ShareButton is integrated in PlayerView"
  artifacts:
    - path: "src/components/ui/ShareButton.vue"
      provides: "Share button with clipboard functionality"
      min_lines: 30
  key_links:
    - from: "src/components/ui/ShareButton.vue"
      to: "navigator.clipboard"
      via: "writeText API"
      pattern: "clipboard.writeText"
---

<objective>
Create and integrate ShareButton component for profile sharing.

Purpose: Enable players to easily share their stats profile URL with others via clipboard. This completes the sharing feature started in plan 03-01.

Output: ShareButton component that copies player profile URL to clipboard with visual feedback.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/REQUIREMENTS.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-seo-sharing/03-CONTEXT.md
@.planning/phases/03-seo-sharing/03-RESEARCH.md

# Phase 3 Context
@.planning/phases/03-seo-sharing/03-01-SUMMARY.md

# Existing code
@src/views/PlayerView.vue
@src/components/ui/BaseButton.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ShareButton component</name>
  <files>src/components/ui/ShareButton.vue</files>
  <action>
    Create a share button component that copies the current player URL to clipboard.

    Component requirements:
    1. Props: username (string), platform (string)
    2. Emits: copied event when URL is copied
    3. Uses navigator.clipboard.writeText() to copy URL
    4. Shows "Copied!" feedback temporarily (2 seconds)
    5. Falls back gracefully if clipboard API unavailable
    6. Uses BaseButton as base component

    URL format to copy:
    - Construct URL: `${window.location.origin}/player/${username}/${platform}`

    Template:
    - Default state: "Share Profile" button with icon
    - Copied state: "Copied!" button text
    - Use BaseButton component with variant="secondary"

    Icons:
    - Use simple SVG share icon (path for link/share symbol)

    DO NOT use Web Share API - clipboard is more reliable for stat sharing
  </action>
  <verify>
    File exists at src/components/ui/ShareButton.vue with:
    - Props for username and platform
    - Clipboard copy functionality
    - "Copied!" feedback state
    - BaseButton usage
  </verify>
  <done>
    ShareButton copies player URL to clipboard when clicked
  </done>
</task>

<task type="auto">
  <name>Task 2: Integrate ShareButton in PlayerView</name>
  <files>src/views/PlayerView.vue</files>
  <action>
    Add the ShareButton to PlayerView for easy profile sharing.

    Changes to PlayerView.vue:
    1. Import ShareButton component
    2. Add ShareButton in the player header section
    3. Pass username and platform props to ShareButton
    4. Position it next to player name or rank info

    Recommended placement:
    - Inside PlayerHeader section, or
    - Just above PlayerHeader as a standalone element

    DO NOT make the share button intrusive - secondary variant is appropriate
  </action>
  <verify>
    PlayerView.vue contains:
    - ShareButton import
    - ShareButton rendered with username and platform props
  </verify>
  <done>
    ShareButton appears on player profile pages and copies the profile URL
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete ShareButton component integrated into PlayerView</what-built>
  <how-to-verify>
1. Start dev server: npm run dev
2. Navigate to a player profile (e.g., /player/ExampleUser/origin)
3. Locate the "Share Profile" button
4. Click the button
5. Paste the clipboard content to verify the URL format

Expected behavior:
- Share button appears on player profile pages
- Clicking copies URL to clipboard
- Button shows "Copied!" feedback temporarily
- URL format is correct: /player/:username/:platform
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues with share button</resume-signal>
</task>

</tasks>

<verification>
After all tasks complete, verify:
- [ ] ShareButton component exists
- [ ] ShareButton is imported in PlayerView
- [ ] ShareButton copies correct URL to clipboard
- [ ] "Copied!" feedback appears temporarily
</verification>

<success_criteria>
1. ShareButton component created with clipboard functionality
2. ShareButton integrated in PlayerView
3. Button copies correct profile URL to clipboard
4. Visual feedback shows when URL is copied
</success_criteria>

<output>
After completion, create `.planning/phases/03-seo-sharing/03-05-SUMMARY.md`
</output>
