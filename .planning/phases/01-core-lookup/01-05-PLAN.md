---
phase: 01-core-lookup
plan: 05
type: execute
wave: 2
depends_on: ["01-01", "01-02"]
files_modified:
  - src/components/stats/PlayerHeader.vue
  - src/components/stats/StatsList.vue
  - src/components/stats/StatCard.vue
  - src/components/legends/FavoriteLegends.vue
  - src/components/legends/LegendCard.vue
  - src/App.vue
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Player header displays name, avatar, and rank icon"
    - "Stats list displays overview stats in card format"
    - "Favorite legends section shows top 2 legends by kills"
    - "Components only render when player data exists"
    - "All components use BaseCard for consistent styling"
  artifacts:
    - path: "src/components/stats/PlayerHeader.vue"
      provides: "Player info header with avatar and rank"
      min_lines: 40
    - path: "src/components/stats/StatsList.vue"
      provides: "Overview stats container"
      min_lines: 30
    - path: "src/components/stats/StatCard.vue"
      provides: "Individual stat display component"
      min_lines: 30
    - path: "src/components/legends/FavoriteLegends.vue"
      provides: "Legends section container"
      min_lines: 30
    - path: "src/components/legends/LegendCard.vue"
      provides: "Individual legend display with image and kills"
      min_lines: 40
    - path: "src/App.vue"
      provides: "Main app with player display sections"
      contains: "PlayerHeader, StatsList, FavoriteLegends"
  key_links:
    - from: "src/components/stats/PlayerHeader.vue"
      to: "src/stores/player.js"
      via: "usePlayerStore, storeToRefs"
      pattern: "usePlayerStore"
    - from: "src/components/stats/StatsList.vue"
      to: "src/components/stats/StatCard.vue"
      via: "v-for loop rendering StatCard"
      pattern: "StatCard"
    - from: "src/components/legends/LegendCard.vue"
      to: "src/components/ui/BaseCard.vue"
      via: "extends or uses BaseCard"
      pattern: "BaseCard"
---

<objective>
Create player stats display components: player header, overview stats list, and favorite legends.

Purpose: Display the fetched player data to users. The player header shows name, avatar, and rank. The stats list displays overview stats (kills, wins, etc.). The legends section shows the top 2 legends by kills. These components consume data from the player store.

Output: Player display components that render when search returns results, showing all key stats.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-core-lookup/01-CONTEXT.md
@.planning/phases/01-core-lookup/01-RESEARCH.md
@src/components/UserInfoBlock.js
@src/components/StatCard.js
@src/components/FavCard.js
</context>

<tasks>

<task type="auto">
  <name>Create PlayerHeader component</name>
  <files>src/components/stats/PlayerHeader.vue</files>
  <action>
    Create src/components/stats/PlayerHeader.vue:

    Props:
    - player: Object with { name, avatar, rankIcon }

    Template:
    - BaseCard component as wrapper
    - Avatar image (left)
    - Player name (center/right)
    - Rank icon (right)
    - Optional: platform badge showing which platform

    Script:
    - Import BaseCard from '@/components/ui/BaseCard'
    - Handle missing images with error handler
    - Show placeholder if avatar/rankIcon unavailable

    Scoped styles:
    - Layout: flexbox, centered, gap between elements
    - Avatar: rounded, 64x64px or similar
    - Name: large font, white text
    - Rank icon: 48x48px
    - Card background: var(--bg-dark)
    - Match existing UserInfoBlock styling from src/components/UserInfoBlock.js

    Layout reference from existing app:
    - Avatar on left
    - Name in center
    - Rank badge on right
  </action>
  <verify>
    1. Add PlayerHeader to App.vue with test player object
    2. Verify avatar, name, and rank icon render
    3. Check responsive layout on mobile
    4. Test with missing data (undefined avatar/rankIcon)
  </verify>
  <done>
    PlayerHeader displays avatar, name, and rank icon in horizontal layout
  </done>
</task>

<task type="auto">
  <name>Create StatCard and StatsList components</name>
  <files>src/components/stats/StatCard.vue, src/components/stats/StatsList.vue</files>
  <action>
    1. Create src/components/stats/StatCard.vue:
       - Props: stat Object with { subtitle, stat }
       - Template: BaseCard with subtitle label and stat value
       - Script: simple presentation component
       - Scoped styles:
         * Compact card format
         * Subtitle: smaller, muted color
         * Stat value: larger, prominent
         * Hover effect: slight border color change
       - Reference existing StatCard from src/components/StatCard.js

    2. Create src/components/stats/StatsList.vue:
       - Props: stats Array of { subtitle, stat }
       - Template:
         * Section header "Stats Overview"
         * Grid of StatCard components (3 columns on lg, 2 on md, 1 on sm)
         * v-for loop over stats
         * Empty state if no stats
       - Script: Import StatCard, render via v-for
       - Scoped styles:
         * Grid layout using CSS Grid
         * Responsive breakpoints
         * Gap between cards

    StatsList should render:
    - Section header with "Stats Overview" text
    - Grid of stat cards (3 columns desktop, 1-2 mobile)
    - Each card shows stat subtitle and value
  </action>
  <verify>
    1. Add StatsList to App.vue with test stats array
    2. Verify grid layout (3 columns on desktop)
    3. Verify responsive behavior (fewer columns on mobile)
    4. Check each stat card displays subtitle and value correctly
  </verify>
  <done>
    StatCard displays individual stat, StatsList renders grid of stat cards
  </done>
</task>

<task type="auto">
  <name>Create LegendCard and FavoriteLegends components</name>
  <files>src/components/legends/LegendCard.vue, src/components/legends/FavoriteLegends.vue</files>
  <action>
    1. Create src/components/legends/LegendCard.vue:
       - Props:
         * legend: Object with { name, imageUrl, kills }
         * isFavorite: boolean (first legend in list)
       - Template: BaseCard with:
         * Legend image (top/background)
         * Legend name (overlay or below)
         * Kills count (prominent display)
         * Favorite badge if isFavorite=true
       - Script: Handle image loading, show placeholder on error
       - Scoped styles:
         * Image fills card width or is background
         * Name overlay with gradient for readability
         * Kills: large number with "Kills" label
         * Favorite badge: "Favorite" text or star icon
         * Match existing FavCard styling from src/components/FavCard.js

    2. Create src/components/legends/FavoriteLegends.vue:
       - Props: legends Array of { name, imageUrl, kills }
       - Template:
         * Section header "Favorite Legends"
         * Container for legend cards
         * v-for loop over legends (max 2)
         * First legend (index 0) gets isFavorite=true
         * Empty state if no legends
       - Script: Import LegendCard, compute favorites from props
       - Scoped styles:
         * Stacked or horizontal layout (Claude's discretion - use stacked for mobile-first)
         * Gap between cards
         * Section header styling

    Legend cards should visually highlight the top legend (most kills).
  </action>
  <verify>
    1. Add FavoriteLegends to App.vue with test legends array
    2. Verify both legends render
    3. Verify first legend has favorite indicator
    4. Check legend images load correctly
    5. Verify kills display prominently
  </verify>
  <done>
    LegendCard shows legend image, name, and kills; FavoriteLegends displays top 2 legends with favorite highlighted
  </done>
</task>

<task type="auto">
  <name>Integrate player display components in App.vue</name>
  <files>src/App.vue</files>
  <action>
    Update src/App.vue to show player data after search:

    1. Import all display components
    2. Connect to player store:
       - Import usePlayerStore, storeToRefs
       - Destructure: { data, loading, searchLoading } from storeToRefs
       - Get { fetchPlayer } from store (actions don't need storeToRefs)

    3. Update handleSearch:
       - Call fetchPlayer(username.value, platform.value)
       - Let store handle loading/error states

    4. Update template:
       - Keep search form at top
       - Add conditional rendering for player data:
         * v-if="data" shows all display components
         * PlayerHeader with player data
         * StatsList with player.stats
         * FavoriteLegends with player.legends
       - Add loading state (from 01-06)
       - Add error state (from 01-06)

    5. Add search history (optional but mentioned in CONTEXT):
       - After successful search, call useSearchStore().addToHistory()
       - This prepares for quick re-access feature

    6. Update SearchButton loading prop:
       - Bind to searchLoading state from player store

    Layout should match existing app:
    - Search at top
    - Player header below search
    - Stats section with header
    - Legends section with header
  </action>
  <verify>
    1. Run dev server
    2. Search for a valid player (e.g., 'Respawn' on 'origin')
    3. Verify player data displays:
       - PlayerHeader shows name, avatar, rank
       - StatsList shows overview stats in grid
       - FavoriteLegends shows top 2 legends
    4. Verify components only render after successful search
    5. Check responsive layout on mobile
  </verify>
  <done>
    App displays player header, stats list, and favorite legends after successful search
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify:
- [ ] PlayerHeader component exists and displays player info
- [ ] StatCard and StatsList exist and display stats in grid
- [ ] LegendCard and FavoriteLegends exist and show top 2 legends
- [ ] All components are imported in App.vue
- [ ] Searching for a player displays all components
- [ ] Layout matches existing app structure
- [ ] Responsive behavior works on mobile
</verification>

<success_criteria>
1. PlayerHeader displays player name, avatar, and rank icon
2. StatsList displays overview stats in a responsive grid
3. FavoriteLegends shows top 2 legends by kills
4. First legend (most kills) is visually highlighted as favorite
5. Components only render when player data exists
6. Layout matches existing app appearance
</success_criteria>

<output>
After completion, create `.planning/phases/01-core-lookup/01-05-SUMMARY.md`
</output>
