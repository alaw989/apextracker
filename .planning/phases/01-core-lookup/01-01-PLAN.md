---
phase: 01-core-lookup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - package-lock.json
  - vite.config.js
  - src/main.js
  - src/App.vue
  - src/stores/player.js
  - src/stores/search.js
  - src/stores/ui.js
  - src/components/ui/BaseButton.vue
  - src/components/ui/BaseInput.vue
  - src/components/ui/BaseCard.vue
  - src/style/_variables.css
  - src/style/base.css
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Vite dev server starts without errors"
    - "Vue app renders in browser at localhost:5173"
    - "Pinia is properly registered and stores are accessible"
    - "Base UI components exist and can be imported"
    - "CSS variables and base styles are loaded"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "vue, pinia, @vueuse/core, vite"
    - path: "vite.config.js"
      provides: "Vite configuration with alias @ pointing to src"
      exports: ["defineConfig"]
    - path: "src/main.js"
      provides: "App entry point with Pinia plugin"
      contains: "createPinia"
    - path: "src/stores/player.js"
      provides: "Player data store structure"
      exports: ["usePlayerStore"]
    - path: "src/stores/search.js"
      provides: "Search history store structure"
      exports: ["useSearchStore"]
    - path: "src/stores/ui.js"
      provides: "UI state store (loading, errors)"
      exports: ["useUiStore"]
    - path: "src/components/ui/BaseButton.vue"
      provides: "Reusable button component"
      min_lines: 30
    - path: "src/components/ui/BaseInput.vue"
      provides: "Reusable input component"
      min_lines: 30
    - path: "src/components/ui/BaseCard.vue"
      provides: "Reusable card component"
      min_lines: 30
  key_links:
    - from: "src/main.js"
      to: "src/App.vue"
      via: "mount('#app')"
      pattern: "app.mount"
    - from: "src/main.js"
      to: "src/stores/*.js"
      via: "createPinia().use()"
      pattern: "createPinia"
---

<objective>
Initialize Vue 3 + Vite project with Pinia state management and design system foundation.

Purpose: This plan creates the technical foundation for the Vue SPA rewrite. The Vite build tool replaces Create React App for faster development. Pinia stores provide the state management architecture. Base UI components establish the design system for consistency across all features.

Output: Working Vue 3 SPA with Vite, Pinia stores configured, and base UI component library.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-core-lookup/01-CONTEXT.md
@.planning/phases/01-core-lookup/01-RESEARCH.md
@src/App.js
@package.json
</context>

<tasks>

<task type="auto">
  <name>Initialize Vite + Vue 3 project</name>
  <files>package.json, package-lock.json, vite.config.js, index.html</files>
  <action>
    1. Backup existing React app files (move src-react/ and package-react.json for reference)
    2. Initialize Vite Vue project: `npm create vite@latest . -- --template vue`
    3. Install dependencies: `npm install`
    4. Add Pinia and VueUse: `npm install pinia @vueuse/core`
    5. Create vite.config.js with @ alias pointing to src directory
    6. Update index.html title to "Apex Tracker"

    Vite config should include:
    - resolve.alias: { '@': fileURLToPath(new URL('./src', import.meta.url)) }

    DO NOT install TypeScript - use plain JavaScript as per existing codebase
    DO NOT install Vue Router - not needed for Phase 1
  </action>
  <verify>
    Run `npm run dev` and verify:
    - Dev server starts on port 5173
    - Browser shows default Vue Vite welcome page
    - Console has no errors
  </verify>
  <done>
    Vite dev server runs successfully, Vue app renders in browser
  </done>
</task>

<task type="auto">
  <name>Set up Pinia stores structure</name>
  <files>src/stores/player.js, src/stores/search.js, src/stores/ui.js, src/main.js</files>
  <action>
    Create three Pinia setup stores following the Composition API pattern from RESEARCH.md:

    1. src/stores/player.js:
       - State: data (null), loading (false), error (null)
       - Actions: fetchPlayer(username, platform) - skeleton for now (full implementation in 01-04)
       - Use setup store syntax: defineStore('player', () => { ... })

    2. src/stores/search.js:
       - Use VueUse useLocalStorage for history
       - State: history (ref to localStorage array)
       - Actions: addToHistory(username, platform), clearHistory()
       - Max 10 items in history

    3. src/stores/ui.js:
       - State: isLoading (false), errorMessage (null)
       - Getters: hasError, showLoading
       - Actions: setLoading(bool), setError(msg), clearError()

    4. Update src/main.js to register Pinia:
       - Create pinia instance with createPinia()
       - app.use(pinia) before mount

    Follow code examples from 01-RESEARCH.md "Pinia Store with Data Transformation" section.
  </action>
  <verify>
    1. In browser console, verify stores exist:
       - window.__VUE_DEVTOOLS_GLOBAL_HOOK__ shows Pinia stores
    2. Import usePlayerStore in App.vue temporarily and console.log it
    3. Verify no console errors related to Pinia
  </verify>
  <done>
    All three Pinia stores are defined and registered, accessible in dev tools
  </done>
</task>

<task type="auto">
  <name>Create base UI components (design system)</name>
  <files>src/components/ui/BaseButton.vue, src/components/ui/BaseInput.vue, src/components/ui/BaseCard.vue, src/style/_variables.css, src/style/base.css, src/App.vue</files>
  <action>
    Create design system folder src/components/ui/ with three base components:

    1. src/components/ui/BaseButton.vue:
       - Props: variant (default 'primary'), disabled (false), loading (false)
       - Emits: click
       - Template: button element with dynamic classes
       - Scoped styles using existing color palette from CONVENTIONS.md
       - Variants: primary (green accent), secondary (gray), danger (red)

    2. src/components/ui/BaseInput.vue:
       - Props: modelValue, placeholder, type (text), id
       - Emits: update:modelValue
       - Template: input with v-model binding pattern
       - Scoped styles matching existing input appearance

    3. src/components/ui/BaseCard.vue:
       - Props: variant (default 'default')
       - Slots: default, header, footer
       - Template: div wrapper with card styling
       - Background: #24283c, border: #424761

    4. src/style/_variables.css:
       - CSS custom properties for colors from CONVENTIONS.md
       - --bg-dark: #24283c, --border: #424761, --text-primary: #fff, etc.
       - --accent-primary: #3c8772 (green from research)

    5. src/style/base.css:
       - Reset and base styles
       - Import _variables.css
       - Body background, font settings

    6. Update src/App.vue:
       - Import base.css in style section
       - Replace default Vite content with simple div using BaseCard

    Color palette reference from existing codebase:
    - Dark background: #24283c
    - Border: #424761
    - Accent/green: #3c8772
    - Text/icons: #CAD0E3
  </action>
  <verify>
    1. Update App.vue to render one of each base component
    2. Run `npm run dev` and verify:
       - Components render without errors
       - Styles are applied (colors, spacing, borders)
       - Props work (variant changes appearance)
    3. Check browser DevTools for Vue component structure
  </verify>
  <done>
    Base UI components render correctly with scoped styles, CSS variables are defined and applied
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify:
- [ ] `npm run dev` starts without errors
- [ ] App loads at http://localhost:5173
- [ ] Vue DevTools shows all three Pinia stores
- [ ] Base components are in component tree
- [ ] Console has no errors or warnings
- [ ] CSS variables are applied (check computed styles)
</verification>

<success_criteria>
1. Vite dev server runs on port 5173 with no errors
2. Vue 3 app renders in browser
3. Pinia stores are accessible via usePlayerStore(), useSearchStore(), useUiStore()
4. Base UI components (BaseButton, BaseInput, BaseCard) can be imported and render with correct styles
5. CSS variables are defined and used throughout the app
</success_criteria>

<output>
After completion, create `.planning/phases/01-core-lookup/01-01-SUMMARY.md`
</output>
